(this.webpackJsonpstack_top_overflow=this.webpackJsonpstack_top_overflow||[]).push([[0],{15:function(t,e,n){t.exports=n(31)},20:function(t,e,n){},22:function(t,e,n){},31:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),o=n(12),i=n.n(o),s=(n(20),n(9)),c=n.n(s),l=n(13),u=n(1),m=n(2),h=n(4),p=n(3),f=n(5),d=(n(22),n(6)),b=n(8),v=function(t){function e(t){var n;return Object(u.a)(this,e),(n=Object(h.a)(this,Object(p.a)(e).call(this,t))).state={author:"",answer:"",votes:0},n}return Object(f.a)(e,t),Object(m.a)(e,[{key:"handleChange",value:function(t){this.setState(Object(b.a)({},t.target.name,t.target.value))}},{key:"handleButtonClick",value:function(t){t.preventDefault(),this.props.postAnswer(this.state.author,this.state.answer,this.state.votes)}},{key:"render",value:function(){var t=this;return r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("form",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"itemText"},"Author ",r.a.createElement("br",null)),r.a.createElement("input",{type:"text",className:"form-control",name:"author",placeholder:"title of question",onChange:function(e){return t.handleChange(e)}}),r.a.createElement("br",null),r.a.createElement("label",{htmlFor:"itemText"},"Answer",r.a.createElement("br",null)),r.a.createElement("input",{type:"text",className:"form-control",name:"answer",placeholder:"title of question",onChange:function(e){return t.handleChange(e)}})),r.a.createElement("button",{onClick:function(e){return t.handleButtonClick(e)},type:"submit",id:"submitItemBtn",className:"btn btn-primary"},"Post answer"))))}}]),e}(a.Component),E=function(t){function e(t){return Object(u.a)(this,e),Object(h.a)(this,Object(p.a)(e).call(this,t))}return Object(f.a)(e,t),Object(m.a)(e,[{key:"handleButtonClickUpvote",value:function(t){t.preventDefault(),this.props.Vote(1)}},{key:"handleButtonClickDownvote",value:function(t){t.preventDefault(),this.props.Vote(-1)}},{key:"render",value:function(){var t=this;return r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("form",null,r.a.createElement("button",{onClick:function(e){return t.handleButtonClickDownvote(e)},type:"submit",id:"submitItemBtn",className:"btn btn-primary"},"downvote"),r.a.createElement("button",{onClick:function(e){return t.handleButtonClickUpvote(e)},type:"submit",id:"submitItemBtn",className:"btn btn-primary"},"Upvote"))))}}]),e}(a.Component),k=function(t){function e(t){return Object(u.a)(this,e),Object(h.a)(this,Object(p.a)(e).call(this,t))}return Object(f.a)(e,t),Object(m.a)(e,[{key:"render",value:function(){var t=this,e=this.props.getQuestion(this.props.id),n=r.a.createElement("p",null,"Loading");return e&&(n=r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,{to:"/"},"back to questions"),r.a.createElement("h1",null,e.title),r.a.createElement("p",null,this.props.getQuestion(this.props.id).description),r.a.createElement("h4",null,"Svar"),r.a.createElement(v,{postAnswer:function(e,n,a){return t.props.postAnswer(e,n,a,t.props.id)}}),r.a.createElement("ul",null,this.props.getQuestion(this.props.id).answers.map((function(e){return r.a.createElement("li",{key:e._id},r.a.createElement("p",null," Skrevet af: ",e.authorName),r.a.createElement("p",null,e.answer),r.a.createElement("p",null,"votes ",e.votes),r.a.createElement(E,{Vote:function(n){return t.props.Vote(n,e._id)}}))}))))),n}}]),e}(a.Component),y=function(t){function e(t){var n;return Object(u.a)(this,e),(n=Object(h.a)(this,Object(p.a)(e).call(this,t))).state={title:"",description:""},n}return Object(f.a)(e,t),Object(m.a)(e,[{key:"handleChange",value:function(t){this.setState(Object(b.a)({},t.target.name,t.target.value))}},{key:"handleButtonClick",value:function(t){t.preventDefault(),this.props.askQuestion(this.state.title,this.state.description)}},{key:"render",value:function(){var t=this;return r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("form",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"itemText"},"Title of question ",r.a.createElement("br",null)),r.a.createElement("input",{type:"text",className:"form-control",name:"title",placeholder:"title of question",onChange:function(e){return t.handleChange(e)}}),r.a.createElement("br",null),r.a.createElement("label",{htmlFor:"itemText"},"Question",r.a.createElement("br",null)),r.a.createElement("input",{type:"text",className:"form-control",name:"description",placeholder:"title of question",onChange:function(e){return t.handleChange(e)}})),r.a.createElement("button",{onClick:function(e){return t.handleButtonClick(e)},type:"submit",id:"submitItemBtn",className:"btn btn-primary"},"Ask Question"))))}}]),e}(a.Component),g=function(t){function e(t){return Object(u.a)(this,e),Object(h.a)(this,Object(p.a)(e).call(this,t))}return Object(f.a)(e,t),Object(m.a)(e,[{key:"render",value:function(){var t=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Questions"),r.a.createElement("ul",null,this.props.questionList.map((function(t){return r.a.createElement("li",{key:t._id},r.a.createElement(d.a,{to:"/question/".concat(t._id)},t.title))}))),r.a.createElement(y,{askQuestion:function(e,n){return t.props.askQuestion(e,n)}}))}}]),e}(a.Component),j=function(t){function e(t){var n;return Object(u.a)(this,e),(n=Object(h.a)(this,Object(p.a)(e).call(this,t))).API_URL="/api",n.state={questionList:[]},n}return Object(f.a)(e,t),Object(m.a)(e,[{key:"componentDidMount",value:function(){this.getData().then((function(){return console.log("Data gotten")}))}},{key:"getData",value:function(){var t=Object(l.a)(c.a.mark((function t(){var e,n,a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e="".concat(this.API_URL,"/questions"),t.next=3,fetch(e);case 3:return n=t.sent,t.next=6,n.json();case 6:return a=t.sent,t.abrupt("return",this.setState({questionList:a}));case 8:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"getQuestion",value:function(t){return this.state.questionList.find((function(e){return e._id===String(t)}))}},{key:"askQuestion",value:function(t,e){var n=this,a="".concat(this.API_URL,"/questions");fetch(a,{method:"POST",body:JSON.stringify({title:t,description:e}),headers:{"Content-type":"application/json; charset=UTF-8"}}).then((function(t){return t.json()})).then((function(t){n.getData()}))}},{key:"postAnswer",value:function(t,e,n,a){var r=this,o="".concat(this.API_URL,"/question/")+a;fetch(o,{method:"PUT",body:JSON.stringify({authorName:t,answer:e,votes:n}),headers:{"Content-type":"application/json; charset=UTF-8"}}).then((function(t){return t.json()})).then((function(t){r.getData()}))}},{key:"Vote",value:function(t,e){var n=this,a="".concat(this.API_URL,"/question/answers/")+e;fetch(a,{method:"PUT",body:JSON.stringify({votes:t}),headers:{"Content-type":"application/json; charset=UTF-8"}}).then((function(t){return t.json()})).then((function(t){n.getData()}))}},{key:"render",value:function(){var t=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(d.b,null,r.a.createElement(g,{path:"/",questionList:this.state.questionList,askQuestion:function(e,n){return t.askQuestion(e,n)}}),r.a.createElement(k,{path:"/question/:id",getQuestion:function(e){return t.getQuestion(e)},postAnswer:function(e,n,a,r){return t.postAnswer(e,n,a,r)},Vote:function(e,n){return t.Vote(e,n)}})))}}]),e}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(j,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))}},[[15,1,2]]]);
//# sourceMappingURL=main.c9fed796.chunk.js.map